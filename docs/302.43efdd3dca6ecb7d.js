"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[302],{7302:(z,v,i)=>{i.r(v),i.d(v,{RegisterModule:()=>$});var g=i(1377),Z=i(3482),f=i(2543),u=i(1223),p=i(1279),h=i(6766),x=i(4538),C=i(4095),T=i(9722),A=i(325),_=i(9013),b=i(1101),R=i(6201),N=i(4371),I=i(3547),l=i(1149),w=i(5498),U=i(7844),D=i(1244),M=i(4466),t=i(5e3),d=i(3075),J=i(3971),c=i(9808);function y(e,s){1&e&&(t.TgZ(0,"th",43),t._uU(1," Investor Name "),t.qZA())}function F(e,s){if(1&e&&(t.TgZ(0,"td",44)(1,"span",45)(2,"span",46),t._uU(3),t.qZA()()()),2&e){const n=s.$implicit;t.xp6(3),t.Oqu(n.investorName)}}function Q(e,s){1&e&&(t.TgZ(0,"th",43),t._uU(1," Amount Invested "),t.qZA())}function Y(e,s){if(1&e&&(t.TgZ(0,"td",44)(1,"span",47),t._uU(2),t.ALo(3,"currency"),t.qZA()()),2&e){const n=s.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,1,n.investedAmount,"INR")," ")}}function q(e,s){1&e&&(t.TgZ(0,"th",43),t._uU(1," Share % "),t.qZA())}function H(e,s){if(1&e&&(t.TgZ(0,"td",44)(1,"span",47),t._uU(2),t.ALo(3,"number"),t.qZA()()),2&e){const n=s.$implicit,o=t.oxw(2);t.xp6(2),t.hij(" ",t.xi3(3,1,100/(o.capital/n.investedAmount),"1.2-2")+"%"," ")}}function B(e,s){if(1&e&&(t.TgZ(0,"th",43),t._uU(1),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.hij(" Profit/Loss ",n.pnl?"("+.75*n.pnl+")":""," ")}}function j(e,s){if(1&e&&(t.TgZ(0,"td",44)(1,"span",47),t._uU(2),t.ALo(3,"currency"),t.qZA()()),2&e){const n=s.$implicit,o=t.oxw(2);t.xp6(2),t.hij(" ",t.xi3(3,1,.75*o.pnl/(o.capital/n.investedAmount),"INR")," ")}}function P(e,s){1&e&&(t.TgZ(0,"th",43),t._uU(1," Actions "),t.qZA())}function L(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"td",44)(1,"button",48),t.NdJ("click",function(){const m=t.CHM(n).$implicit;return t.oxw(2).edit(m)}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",49),t.NdJ("click",function(){const m=t.CHM(n).index;return t.oxw(2).delete(m)}),t.TgZ(5,"mat-icon"),t._uU(6,"delete"),t.qZA()()()}}function S(e,s){1&e&&t._UZ(0,"tr",50)}function O(e,s){1&e&&t._UZ(0,"tr",51)}function E(e,s){if(1&e&&(t.TgZ(0,"div",29)(1,"div",30),t._uU(2,"Investor PnL Details"),t.qZA(),t.TgZ(3,"div",31)(4,"table",32,33),t.ynx(6,34),t.YNc(7,y,2,0,"th",35),t.YNc(8,F,4,1,"td",36),t.BQk(),t.ynx(9,37),t.YNc(10,Q,2,0,"th",35),t.YNc(11,Y,4,4,"td",36),t.BQk(),t.ynx(12,38),t.YNc(13,q,2,0,"th",35),t.YNc(14,H,4,4,"td",36),t.BQk(),t.ynx(15,39),t.YNc(16,B,2,1,"th",35),t.YNc(17,j,4,4,"td",36),t.BQk(),t.ynx(18,40),t.YNc(19,P,2,0,"th",35),t.YNc(20,L,7,0,"td",36),t.BQk(),t.YNc(21,S,1,0,"tr",41),t.YNc(22,O,1,0,"tr",42),t.qZA()()()),2&e){const n=t.oxw();t.xp6(4),t.Q6J("dataSource",n.data.budgetDetails.rows),t.xp6(17),t.Q6J("matHeaderRowDef",n.data.budgetDetails.columns),t.xp6(1),t.Q6J("matRowDefColumns",n.data.budgetDetails.columns)}}const X=[{path:"",component:(()=>{class e{constructor(n,o,r){this.changeDetectorRefs=n,this.formBuilder=o,this._utils=r,this.formFieldHelpers=[""],this.capital=0,this.pnl=null,this.data={budgetDetails:{columns:["investorName","investedAmount","sharePercent","pnlAmount","actions"],rows:[{investorName:"Jaya",investedAmount:2e5,investorId:"8me8ugind"}]}}}ngOnInit(){this.resetForm(),this.calculateCapital(this.data.budgetDetails.rows)}resetForm(){this.investorInfo={investorName:"",investedAmount:null,investorId:null}}edit(n){console.log(n),this.investorInfo=Object.assign({},n)}delete(n){this.data.budgetDetails.rows.splice(n,1),this.calculateCapital(this.data.budgetDetails.rows),this.table.renderRows(),this.resetForm()}calculateCapital(n){this.capital=0,n.forEach(o=>{this.capital+=Number(o.investedAmount)}),this._utils.setTotalFunds(this.capital),this._utils.setAvailableFunds(this.capital)}addInvestor(){if(this.investorInfo.investorId){let n=this.data.budgetDetails.rows.findIndex(o=>o.investorId==this.investorInfo.investorId);this.data.budgetDetails.rows[n]=this.investorInfo}else this.investorInfo.investorId=(new Date).getDate().toString()+Math.random().toString(36).slice(2,10),this.data.budgetDetails.rows.push(this.investorInfo);this.calculateCapital(this.data.budgetDetails.rows),this.table&&this.table.renderRows(),this.resetForm()}getFormFieldHelpersAsString(){return this.formFieldHelpers.join(" ")}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(t.sBO),t.Y36(d.qu),t.Y36(J.t))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-register"]],viewQuery:function(n,o){if(1&n&&t.Gf(l.BZ,5),2&n){let r;t.iGM(r=t.CRH())&&(o.table=r.first)}},decls:61,vars:11,consts:[[1,"flex","flex-col","flex-auto","min-w-0","p-6"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-4","gap-6","w-full","min-w-0","flex-auto"],[1,"sm:col-span-4","md:col-span-4","lg:col-span-2","flex","flex-col","flex-auto","bg-card","shadow","rounded-2xl","overflow-hidden","p-6"],["name","investorForm"],["invForm","ngForm"],[1,"flex","flex-col","overflow-hidden"],[1,"text-lg","font-medium"],[1,"mt-3","mb-3"],[1,"flex"],[1,"flex-auto"],["matInput","","name","name","required","",3,"ngModel","ngModelChange"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],[1,"flex","flex-col","gt-xs:flex-row"],[1,"flex-auto",3,"ngClass"],["name","amount","type","number","required","","matInput","",1,"text-right",3,"ngModel","ngModelChange"],["matPrefix",""],["matSuffix",""],[1,"flex","items-center","justify-end","mt-5"],["mat-button","",3,"click"],["mat-flat-button","",1,"px-6","ml-3",3,"disabled","color","click"],[1,"sm:col-span-4","md:col-span-4","lg:col-span-2","flex","flex-col","flex-auto","overflow-hidden"],[1,"bg-card","shadow","rounded-2xl","overflow-hidden","p-6"],["disabled","","name","capital","matInput","",1,"text-right",3,"ngModel","ngModelChange"],["type","number","name","pnl","matInput","",1,"text-right",3,"ngModel","ngModelChange"],["align","start"],[1,"flex","items-center","justify-end","mt-5","mb-5"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-4","gap-6","w-full","h-full","min-w-0","flex-auto","mt-5"],[1,"sm:col-span-4","md:col-span-4","lg:col-span-4","flex","flex-col","flex-auto","overflow-hidden","bg-card","shadow","rounded-2xl","overflow-hidden","p-6","flex","flex-auto"],["class","sm:col-span-6 flex flex-col flex-auto overflow-hidden",4,"ngIf"],[1,"sm:col-span-6","flex","flex-col","flex-auto","overflow-hidden"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate"],[1,"flex","flex-col","flex-auto","mt-2","overflow-x-auto"],["mat-table","",1,"min-w-240","overflow-y-visible",3,"dataSource"],["table",""],["matColumnDef","investorName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","investedAmount"],["matColumnDef","sharePercent"],["matColumnDef","pnlAmount"],["matColumnDef","actions","sticky",""],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"flex","items-center"],[1,"leading-4"],[1,"font-medium","text-right"],["mat-icon-button","","matTooltip","Edit","color","primary",1,"material-icons","app-toolbar-menu","save-button",3,"click"],["mat-icon-button","","matTooltip","Delete","color","warn",1,"material-icons","app-toolbar-menu","delete-button",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,o){if(1&n){const r=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3,4)(5,"div",5)(6,"p",6),t._uU(7,"Add New Investor Details"),t.qZA(),t._UZ(8,"mat-divider",7),t.TgZ(9,"div",8)(10,"mat-form-field",9)(11,"mat-label"),t._uU(12,"Investor Name"),t.qZA(),t.TgZ(13,"input",10),t.NdJ("ngModelChange",function(a){return o.investorInfo.investorName=a}),t.qZA(),t._UZ(14,"mat-icon",11),t.qZA()(),t.TgZ(15,"div",12)(16,"mat-form-field",13)(17,"mat-label"),t._uU(18,"Amount to be released for investing"),t.qZA(),t.TgZ(19,"input",14),t.NdJ("ngModelChange",function(a){return o.investorInfo.investedAmount=a}),t.qZA(),t.TgZ(20,"span",15),t._uU(21,"\u20b9"),t.qZA(),t.TgZ(22,"span",16),t._uU(23,".00"),t.qZA()()(),t.TgZ(24,"div",17)(25,"button",18),t.NdJ("click",function(){return o.resetForm()}),t._uU(26," Reset "),t.qZA(),t.TgZ(27,"button",19),t.NdJ("click",function(){t.CHM(r);const a=t.MAs(4);return o.addInvestor(),a.resetForm()}),t._uU(28," Save "),t.qZA()()()()(),t.TgZ(29,"div",20)(30,"div",21)(31,"form")(32,"div",5)(33,"p",6),t._uU(34,"Profit and Loss information"),t.qZA(),t._UZ(35,"mat-divider",7),t.TgZ(36,"div",8)(37,"mat-form-field",13)(38,"mat-label"),t._uU(39,"Total Investment (Capital Amount)"),t.qZA(),t.TgZ(40,"input",22),t.NdJ("ngModelChange",function(a){return o.capital=a}),t.qZA(),t.TgZ(41,"span",15),t._uU(42,"\u20b9"),t.qZA(),t.TgZ(43,"span",16),t._uU(44,".00"),t.qZA()()(),t.TgZ(45,"div",8)(46,"mat-form-field",13)(47,"mat-label"),t._uU(48,"Profit / Loss Amount"),t.qZA(),t.TgZ(49,"input",23),t.NdJ("ngModelChange",function(a){return o.pnl=a}),t.qZA(),t.TgZ(50,"span",15),t._uU(51,"\u20b9"),t.qZA(),t.TgZ(52,"span",16),t._uU(53,".00"),t.qZA(),t.TgZ(54,"mat-hint",24)(55,"strong"),t._uU(56,"Note: Only 75% of Profit & Loss will be divided among investors, remaining 25% will be consumed by trader. "),t.qZA()()()()(),t._UZ(57,"div",25),t.qZA()()()(),t.TgZ(58,"div",26)(59,"div",27),t.YNc(60,E,23,3,"div",28),t.qZA()()()}if(2&n){const r=t.MAs(4);t.xp6(13),t.Q6J("ngModel",o.investorInfo.investorName),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:user"),t.xp6(2),t.Q6J("ngClass",o.formFieldHelpers),t.xp6(3),t.Q6J("ngModel",o.investorInfo.investedAmount),t.xp6(8),t.Q6J("disabled",!r.valid)("color","primary"),t.xp6(10),t.Q6J("ngClass",o.formFieldHelpers),t.xp6(3),t.Q6J("ngModel",o.capital),t.xp6(6),t.Q6J("ngClass",o.formFieldHelpers),t.xp6(3),t.Q6J("ngModel",o.pnl),t.xp6(11),t.Q6J("ngIf",o.data.budgetDetails.rows.length>0)}},directives:[d._Y,d.JL,d.F,f.d,u.KE,u.hX,h.Nt,d.Fj,d.Q7,d.JJ,d.On,p.Hw,u.qo,c.mk,d.wV,u.R9,g.lW,u.bx,c.O5,l.BZ,l.w1,l.fO,l.ge,l.Dz,l.ev,l.as,l.XQ,l.nj,l.Gk],pipes:[c.H9,c.JJ],styles:[""]}),e})()}];let $=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[A.Bz.forChild(X),g.ot,Z.p9,f.t,u.lN,p.Ps,h.c,x.Tx,C.Fk,T.LD,M.m,g.ot,_.vV,f.t,p.Ps,x.Tx,b.Cv,R.si,N.SJ,I.JX,l.p0,w.Nh,D.X,U.y4]]}),e})()}}]);