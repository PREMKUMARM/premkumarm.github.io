"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[592],{3971:(_,f,c)=>{c.d(f,{t:()=>g});var u=c(5e3);let d=(()=>{class s{constructor(){this.totalFunds=3e5,this.availableFund=3e5,this.usedFunds=0,this.riskPercentage=1,this.rewardPercentage=2,this.lotSize=15,this.profitNLoss=0}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=u.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),g=(()=>{class s{constructor(i){this._config=i}getRiskPerTrade(){return this._config.riskPercentage}getRewardPerTrade(){return this._config.rewardPercentage}getTotalFunds(){return this._config.totalFunds}setTotalFunds(i){this._config.totalFunds=i}getAvailableFunds(){return this._config.availableFund}setAvailableFunds(i){this._config.availableFund=i}getUsedFunds(){return this._config.usedFunds}getProfitNloss(){return this._config.profitNLoss}calculateSuggestedTarget(i,t){return Number(i+2*(i-t))}calculateQuantity(i,t){let e=Math.round(this._config.availableFund*(this._config.riskPercentage/100)/(i-Number(t)));return e-Math.floor(e%this._config.lotSize)||this._config.lotSize}calculateProfit(i,t,n,e){return e*n-e*i}calculateLoss(i,t,n,e){return e*i-e*t}calculateBuyValue(i,t){return i*t}calculateStoplossValue(i,t){return i*t}calculateSellValue(i,t){return i*t}calculateRiskReward(i,t,n,e){let h=Number((i-t)*e/(this._config.totalFunds*this._config.riskPercentage/100)).toFixed(0),r=Number(Math.round((n-i)/(i-t)).toFixed(0));return console.log(i-t,n-i,r),{risk:Number(h),reward:r}}executedTrade(i){console.log("executedTrade::",i),console.log("this._config.usedFunds::",this._config.usedFunds,i.buyValue,this._config.usedFunds+i.buyValue),this._config.usedFunds=this._config.usedFunds+i.buyValue,console.log("this._config.availableFund 1::",this._config.availableFund,this._config.usedFunds,this._config.totalFunds-this._config.usedFunds),this._config.availableFund=this._config.totalFunds-this._config.usedFunds,console.log("this._config.availableFund::",this._config.availableFund)}targetHit(i){this._config.profitNLoss=this._config.profitNLoss+i.maxProfit,this._config.availableFund=this._config.availableFund+i.buyValue+i.maxProfit,this._config.availableFund>this._config.totalFunds&&(this._config.availableFund=this._config.totalFunds),this._config.usedFunds=this._config.profitNLoss<0?this._config.totalFunds-this._config.availableFund:0}stoplossHit(i){this._config.profitNLoss=this._config.profitNLoss-i.maxLoss,this._config.availableFund=this._config.availableFund+i.buyValue,this._config.usedFunds=this._config.profitNLoss<0?this._config.totalFunds-this._config.availableFund:0,this._config.profitNLoss<0&&(this._config.availableFund=this._config.availableFund-this._config.profitNLoss)}}return s.\u0275fac=function(i){return new(i||s)(u.LFG(d))},s.\u0275prov=u.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()}}]);